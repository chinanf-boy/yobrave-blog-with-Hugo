---
title: "Rustå‘¨æŠ¥ 375(è¯‘)"
date: 2021-01-30T00:04:59+08:00
tags: ["week"]
description: "this-week-in-rust.org èƒèŸ¹-Rustå‘¨æŠ¥-375"
css: ["/css/main.css", "/css/stylesheet.css", "/css/rust-week.css"]
series: "Rustå‘¨æŠ¥-ä¸­æ–‡"
draft: false
---

- [this-week-in-rust](https://this-week-in-rust.org)
- æ—¥æœŸï¼š2021-01-27
- [åŸæ–‡ï¼š375 æœŸ](https://this-week-in-rust.org/blog/2021/01/27/this-week-in-rust-375/)

ä½ å¥½ï¼Œæ¬¢è¿å†æ¥ä¸€æœŸ*æœ¬å‘¨çš„èƒèŸ¹è¡Œæƒ…*ï¼[Rust](http://rust-lang.org)æ˜¯ä¸€ç§è¿½æ±‚ä¸‰ä½ä¸€ä½“çš„ç³»ç»Ÿè¯­è¨€ï¼šå®‰å…¨æ€§ã€å¹¶å‘æ€§å’Œé€Ÿåº¦ã€‚è¿™æ˜¯å®ƒçš„è¿›å±•å’Œç¤¾åŒºçš„æ¯å‘¨æ€»ç»“ã€‚æœ‰ä»€ä¹ˆè¦è¯´çš„å—ï¼Ÿæ¨ç‰¹[@ThisWeekInRust](https://twitter.com/ThisWeekInRust)æˆ–[å‘æˆ‘ä»¬å‘é€è¯·æ±‚](https://github.com/cmr/this-week-in-rust)ã€‚ æƒ³å‚ä¸å—ï¼Ÿ[æˆ‘ä»¬çƒ­çˆ±è´¡çŒ®](https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md).

*è¿™æœ¬å‘¨çš„èƒèŸ¹è¡Œæƒ…*æ˜¯åœ¨[åœ¨ Github ä¸Š](https://github.com/cmr/this-week-in-rust)å…¬å¼€çš„ã€‚å¦‚æœä½ åœ¨æœ¬å‘¨çš„é—®é¢˜ä¸­å‘ç°ä»»ä½•é”™è¯¯ï¼Œ[è¯·æäº¤ PR](https://github.com/cmr/this-week-in-rust/pulls)ã€‚

# Updates from Rust Community

### Official

- \[Inside] [Rust & the case of the disappearing stack frames](https://blog.rust-lang.org/inside-rust/2021/01/26/ffi-unwind-longjmp.html)

### Newsletters

### Project/Tooling Updates

- [rust-analyzer Changelog #61](https://rust-analyzer.github.io/thisweek/2021/01/25/changelog-61.html)
- [æ€§èƒ½æé€Ÿ on front-end generated by rustdoc](https://blog.guillaume-gomez.fr/articles/2021-01-22+Performance+improvement+on+front-end+generated+by+rustdoc)
- [Criterion.rs v0.3.4 and Iai 0.1.0](https://bheisler.github.io/post/criterion-rs-0-3-4/)
- [The RustyHermit Unikernelï¼ˆå¼ºåŒ–å‹å•æ ¸ç³»ç»Ÿï¼‰](https://rust-osdev.com/showcase/rusty-hermit/)
- [Introducing usb-ids.rs](https://blog.yossarian.net/2021/01/21/Introducing-usb-ids-rs)
- âš¡ï¸ [Dotenv-linter v3.0.0: Overview](https://evrone.com/dotenv-linter-v300) ğŸ¦€
- ğŸ§® [An Auto-Increment Crate for Rust](https://jeffa.io/an_auto-increment_crate_for_rust)

### Observations/Thoughts

- [ç§»æ¤ä¸€ä¸ª serverless èŠå¤©æœºå™¨äºº from Python to Rust](https://blog.console.dev/porting-a-python-azure-serverless-function-to-rust/)
- [Unsafe Rust: How and when (not) to use it](https://blog.logrocket.com/unsafe-rust-how-and-when-not-to-use-it/)
- [Rust and Go department directories](https://dev.to/mark_saward/rust-and-go-department-directories-bla)
- [ä»‹ç» real-world æ•°æ® with Rust: ä»‹ç» the alias_all attribute in Serde](https://deaddabe.fr/blog/2021/01/27/parsing-real-world-data-with-rust-introducing-the-alias_all-attribute-in-serde/)

### Rust Walkthroughs

- [Wrapping Errors in Rust](https://edgarluque.com/blog/wrapping-errors-in-rust)
- [Implementing Raft's Leader Electionï¼ˆå…±è¯†ç®—æ³•ï¼‰in Rust](http://laurocaetano.com/programming/2021/01/23/raft-leader-election-rust/)
- [2048 WASM](https://dev.to/dev_family/2048-wasm-45gc)
- [Implementing an LRU Cache in Rust](https://dev.to/seanchen1991/implementing-an-lru-cache-in-rust-33pp)
- [JSON input validation in Warp](https://dev.to/buinauskas/json-input-validation-in-warp-i5n)
- [Make A Language - Part Nineteen: Code Representations](https://arzg.github.io/lang/19/)
- [Make A Language - Part Twenty: Testing](https://arzg.github.io/lang/20/)
- [How to optimise compilation times with Rust](https://lemmy.ml/post/50089)
- [Criterion åŸºå‡†æµ‹è¯•ï¼šAutomatic flamegraphs](https://www.jibbow.com/posts/criterion-flamegraphs/)
- [First time using Yew: A Go game board in just a few lines of Rust.](https://radim.xyz/project/yewban/)
- \[ES] [el juego de la vida usando rust y iced](https://github.com/irvingfisica/iced_examples/blob/master/Life.md)

### Miscellaneous

- [Are we learning yet?](https://www.arewelearningyet.com/)
- [Microsoft Opens Up Old Win32 APIs to C# and Rust, More Languages to Come](https://visualstudiomagazine.com/articles/2021/01/21/win32-apis.aspx)
- [A fix for the LLVM noalias bug has landed in time for LLVM 12 branches](https://www.reddit.com/r/rust/comments/l4roqk/a_fix_for_the_llvm_noalias_bug_has_landed_in_time/)
- [Dynamic type systems aren't even simpler](https://hisham.hm/2020/01/20/dynamic-type-systems-arent-even-simpler/)
- [Everywhere I go, I miss Rust's \`enum\`s](https://www.reddit.com/r/rust/comments/l594zl/everywhere_i_go_i_miss_rusts_enums/)
- [Open-Source Rust: 24 Awesome æ¡†æ¶, é¡¹ç›®, å’Œåº“](https://serokell.io/blog/open-source-rust)

# Crate of the Week

è¿™å‘¨çš„ç®±å­æ˜¯[aquamarine](https://github.com/mersinvald/aquamarine)ä¸ºæ‚¨çš„ rustdocs å¸¦æ¥å†…è”å›¾ã€‚

è°¢è°¢[Willi Kappler](https://users.rust-lang.org/t/crate-of-the-week/2704/874)çš„å»ºè®®ï¼

[æäº¤æ‚¨ä¸‹å‘¨çš„å»ºè®®å’ŒæŠ•ç¥¨][submit_crate]ï¼

[submit_crate]: https://users.rust-lang.org/t/crate-of-the-week/2704

# Call for Participation

ä¸€ç›´æƒ³ä¸ºå¼€æºé¡¹ç›®åšè´¡çŒ®ï¼Œä½†ä¸çŸ¥é“ä»å“ªé‡Œå¼€å§‹ï¼Ÿæ¯å‘¨æˆ‘ä»¬éƒ½ä¼šé‡ç‚¹ä»‹ç» Rust ç¤¾åŒºçš„ä¸€äº›ä»»åŠ¡ï¼Œä¾›æ‚¨é€‰æ‹©å’Œå¼€å§‹ï¼

å…¶ä¸­ä¸€äº›ä»»åŠ¡ä¹Ÿå¯èƒ½æœ‰å¯¼å¸ˆï¼Œè¯·è®¿é—®ä»»åŠ¡é¡µé¢ä»¥è·å–æ›´å¤šä¿¡æ¯ã€‚

- [Fuchsia has several open issues](https://users.rust-lang.org/t/twir-call-for-participation/4821/350)

å¦‚æœæ‚¨æ˜¯ Rust é¡¹ç›®çš„æ‰€æœ‰è€…å¹¶ä¸”æ­£åœ¨å¯»æ‰¾è´¡çŒ®è€…ï¼Œè¯·æäº¤ä»»åŠ¡[è¿™é‡Œ][guidelines]ã€‚

[guidelines]: https://users.rust-lang.org/t/twir-call-for-participation/4821

# Updates from Rust Core

å…±æœ‰ 299 ä¸ªæ‹‰å–è¯·æ±‚[åœ¨ä¸Šå‘¨åˆå¹¶][merged]

[merged]: https://github.com/search?q=is%3Apr+org%3Arust-lang+is%3Amerged+merged%3A2021-01-18..2021-01-25

- [improve unknown external crate error](https://github.com/rust-lang/rust/pull/81046)
- [å¤„ç†ç¼ºå¤±å‰ç¼€ `'`çš„ loop labels, in different positions](https://github.com/rust-lang/rust/pull/81236)
- [improve diagnostics when parsing angle args](https://github.com/rust-lang/rust/pull/80065)
- [å‡†è®¸ï¼šmutable references in all const contexts](https://github.com/rust-lang/rust/pull/78578)
- [é˜»æ­¢ï¼šquery cycles in the MIR inliner](https://github.com/rust-lang/rust/pull/68828)
- [mir: å¯¹ arg is unsized çš„æƒ…å†µï¼Œæ”¹å–„`size_of` å¤„ç†è¿‡ç¨‹](https://github.com/rust-lang/rust/pull/81243)
- [implement `Error` for `&(impl Error)`](https://github.com/rust-lang/rust/pull/75180)
- [change branching in `iter.skip()`](https://github.com/rust-lang/rust/pull/80715)
- [`BufWriter`: æä¾› `into_raw_parts`](https://github.com/rust-lang/rust/pull/79705)
- [fix soundness issue for `replace_range` and `range`](https://github.com/rust-lang/rust/pull/81169)
- [åœ¨`VecDeque`'s `Hash` implementation ä¸­ï¼Œé¿å… `hash_slice`](https://github.com/rust-lang/rust/pull/81170)
- [turn alloc's force_expr macro into a regular macro_rules](https://github.com/rust-lang/rust/pull/81241)
- [hashbrown: add `try_insert_no_grow` method on `RawTable`](https://github.com/rust-lang/hashbrown/pull/229)
- [fix a bugï¼š in Cargo's cyclic dep graph detection](https://github.com/rust-lang/cargo/pull/9075)
- [cargo: æ·»åŠ é¢å¤–çš„å¸®åŠ©åˆ° `cargo new`ï¼Œè¿˜æœ‰æ— æ•ˆçš„ package names](https://github.com/rust-lang/cargo/pull/9098)
- [rustdoc: ä¿®å¤æ ‡å‡†ç‰ˆæœ¬çš„æ¸²æŸ“ for trait implementors](https://github.com/rust-lang/rust/pull/81302)
- [clippy: `manual_filter_map` and `manual_find_map`](https://github.com/rust-lang/rust-clippy/pull/6591)
- [clippy: new lint: `exhaustive_enums`, `exhaustive_structs`](https://github.com/rust-lang/rust-clippy/pull/6617)

## Rust Compiler Performance Triage

æœ¬å‘¨ç»§ç»­ä¿æŒç›¸å¯¹è¾ƒå¤§çš„æ±‡æ€»è¶‹åŠ¿ï¼Œå…¶ä¸­é€šå¸¸åŒ…å«å¯¹æ€§èƒ½æ•æ„Ÿçš„ PRã€‚ PR æ ‡è®°ä¸º rollup=never çš„ï¼Œæˆ‘ä»¬éœ€è¦åšåˆ°æ›´å¤šï¼Œä½†å°šä¸æ¸…æ¥šè¿™æ ·åšçš„ç²¾ç¡®ç¨‹åº¦ã€‚ä¸è¿‡ï¼Œåœ¨æ±‡æ€»ä¸­ï¼Œç”¨äºæµ‹è¯•åˆå¹¶å„ä¸ª PR çš„å·¥å…·ä¹Ÿåº”è¿›è¡Œæ”¹è¿›ï¼Œä»¥åœ¨æ¥ä¸‹æ¥çš„å‡ å¤©ä¸­æ›´å¥½åœ°å·¥ä½œã€‚

é™¤æ­¤ä¹‹å¤–ï¼Œæœ¬å‘¨è¿˜å‡ºç°äº†ä¸€äº›é€€æ­¥ï¼Œå…¶ä¸­å¤§å¤šæ•°ä¸å®¹æ˜“è§£é‡Šã€‚æˆ‘ä»¬æ­£åœ¨å¯»æ±‚ PR ä½œè€…å’Œå®¡ç¨¿äººçš„åé¦ˆï¼Œä»¥äº†è§£æ˜¯å¦å¯ä»¥é¢„æœŸç»“æœä»¥åŠæ˜¯å¦å¯ä»¥è¿›è¡Œä»»ä½•æ“ä½œã€‚

ç”± **@rylevick** å’Œ **@simulacrum** ä¿®è®¢ï¼ŒèŒƒå›´ï¼š[e05409a02c6e73a3dea6da98798468db2910ca59..1483e67addd37d9bd20ba3b4613b678ee9ad4d68](https://perf.rust-lang.org/?start=e05409a02c6e73a3dea6da98798468db2910ca59&end=1483e67addd37d9bd20ba3b4613b678ee9ad4d68&absolute=false&stat=instructions%3Au)

5 ä¸ªé€€æ­¥ï¼Œ2 ä¸ªæ”¹è¿›ï¼Œ1 ä¸ªæ··åˆï¼›å…¶ä¸­ 3 ä¸ªæ±‡æ€»äº†

è§[full report](https://github.com/rust-lang/rustc-perf/blob/master/triage/2021-01-26.md)æ›´å¤šã€‚

## Approved RFCs

å¯¹ Rust çš„æ›´æ”¹è·Ÿéš Rust[RFC (request for comments) process](https://github.com/rust-lang/rfcs#rust-rfcs)ã€‚ä»¥ä¸‹æ˜¯æœ¬å‘¨æ‰¹å‡†å®æ–½çš„ RFCï¼š

- [Allow "artifact dependencies" on bin, cdylib, and staticlib crates](https://github.com/rust-lang/rfcs/pull/3028)

## Final Comment Period

æ¯å‘¨[the team](https://www.rust-lang.org/team.html)å®£å¸ƒå³å°†åšå‡ºå†³å®šçš„ RFC å’Œä¸»è¦ PR çš„â€œæœ€ç»ˆè¯„è®ºæœŸâ€ã€‚ç«‹å³å‘è¡¨æ‚¨çš„æ„è§ã€‚

### [RFCs](https://github.com/rust-lang/rfcs/labels/final-comment-period)

- [Rust 2021 Roadmap](https://github.com/rust-lang/rfcs/pull/3037)

### [Tracking Issues & PRs](https://github.com/rust-lang/rust/labels/final-comment-period)

- \[disposition: åˆå¹¶] [remove requirement that forces symmetric and transitive PartialEq impls to exist](https://github.com/rust-lang/rust/pull/81198)
- \[disposition: åˆå¹¶] [ç¨³å®šåŒ–ï¼š`core::slice::fill_with`](https://github.com/rust-lang/rust/pull/81048)
- \[disposition: åˆå¹¶] [add Box::downcast() for dyn Any + Send + Sync](https://github.com/rust-lang/rust/pull/80945)
- \[disposition: åˆå¹¶] [ç¨³å®šåŒ–ï¼šby-value `[T; N]` iterator `core::array::IntoIter`](https://github.com/rust-lang/rust/pull/80470)
- \[disposition: åˆå¹¶] [implement missing `AsMut<str>` for `str`](https://github.com/rust-lang/rust/pull/80279)
- \[disposition: åˆå¹¶] [ç¨³å®šåŒ–ï¼š`cargo test -- --include-ignored`](https://github.com/rust-lang/rust/pull/80053)
- \[disposition: åˆå¹¶] [ç¨³å®šåŒ–ï¼š`peekable_next_if`](https://github.com/rust-lang/rust/pull/80011)
- \[disposition: åˆå¹¶] [rustc: ç¨³å®šåŒ– `-Zrun-dsymutil` as `-Csplit-debuginfo`](https://github.com/rust-lang/rust/pull/79570)
- \[disposition: åˆå¹¶] [ç¨³å®šåŒ–ï¼šArc::{increment,decrement}\_strong_count](https://github.com/rust-lang/rust/pull/79285)
- \[disposition: åˆå¹¶] [expand/resolve: Turn `#[derive]` into a regular macro attribute](https://github.com/rust-lang/rust/pull/79078)
- \[disposition: åˆå¹¶] [implement io::Seek for io::Empty](https://github.com/rust-lang/rust/pull/78044)
- \[disposition: åˆå¹¶] [è·Ÿè¸ªé—®é¢˜ï¼š`feature(int_bits_const): <integer>::BITS`](https://github.com/rust-lang/rust/issues/76904)
- \[disposition: åˆå¹¶] [è·Ÿè¸ªé—®é¢˜ï¼š`fmt::Arguments::as_str()`](https://github.com/rust-lang/rust/issues/74442)

## New RFCs

- [æ”¹å˜ï¼švisibility scoping rules for macro_rules macros](https://github.com/rust-lang/rfcs/pull/3067)

# Quote of the Week

> åœ¨ 2021 å¹´ï¼Œå°† Rust æè¿°ä¸ºç³»ç»Ÿç¼–ç¨‹è¯­è¨€å°±åƒï¼Œå°† Microsoft æè¿°ä¸º Windows æˆ–å°† Google æè¿°ä¸ºæœç´¢å¼•æ“ä¸€æ ·ã€‚æ˜¯çš„ï¼ŒRust å¯ä»¥è¿›è¡Œç³»ç»Ÿç¼–ç¨‹ï¼Œä½†æ˜¯å…¶é€‚ç”¨èŒƒå›´æ›´åŠ å¹¿æ³›ã€‚

â€“ [Tim McNamara on twitter](https://twitter.com/timClicks/status/1351247765851017216)

Thanks to [Nixon Enraght-Moony](https://users.rust-lang.org/t/twir-quote-of-the-week/328/993) for the suggestion.

[Please submit quotes and vote for next week!](https://users.rust-lang.org/t/twir-quote-of-the-week/328)

_This Week in Rust is edited by: [nellshamrell](https://github.com/nellshamrell), [llogiq](https://github.com/llogiq), and [cdmistman](https://github.com/cdmistman)._

<small>[Discuss on r/rust](https://www.reddit.com/r/rust/comments/l6pfp6/this_week_in_rust_375/)</small>
